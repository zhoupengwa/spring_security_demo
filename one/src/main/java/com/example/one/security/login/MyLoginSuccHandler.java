package com.example.one.security.login;import com.example.one.bean.ResponseBean;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.security.core.Authentication;import org.springframework.security.web.authentication.AuthenticationSuccessHandler;import org.springframework.stereotype.Component;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;/** * @author zhoupeng create on 2021/7/19 */@Componentpublic class MyLoginSuccHandler implements AuthenticationSuccessHandler {    @Override    public void onAuthenticationSuccess(HttpServletRequest httpServletRequest, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {        response.setStatus(HttpServletResponse.SC_FORBIDDEN);        response.setContentType("application/json;charset=UTF-8");        PrintWriter out = response.getWriter();        ResponseBean info = new ResponseBean(200, "登录成功", null);        out.write(new ObjectMapper().writeValueAsString(info));        out.flush();        out.close();    }}