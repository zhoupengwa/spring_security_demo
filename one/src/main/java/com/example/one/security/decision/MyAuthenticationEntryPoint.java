package com.example.one.security.decision;import com.example.one.bean.ResponseBean;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.security.core.AuthenticationException;import org.springframework.security.web.AuthenticationEntryPoint;import org.springframework.stereotype.Component;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;/** * @author zhoupeng create on 2021/7/19 */@Componentpublic class MyAuthenticationEntryPoint implements AuthenticationEntryPoint {    @Override    public void commence(HttpServletRequest httpServletRequest, HttpServletResponse response, AuthenticationException e) throws IOException, ServletException {        response.setStatus(HttpServletResponse.SC_FORBIDDEN);        response.setContentType("application/json;charset=UTF-8");        PrintWriter out = response.getWriter();        ResponseBean info = new ResponseBean(400, "用户未登录或Token过期", null);        out.write(new ObjectMapper().writeValueAsString(info));        out.flush();        out.close();    }}